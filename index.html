<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Daily Task App</title>
  <style>
    :root {
      --brand-purple:#845EC2;
      --brand-green:#66B032;
      --accent:#008cba;
      --yellow:#FFD966;
      --text:#222;
      --muted:#666;
      --bg:#f7f7fb;
      --card:#fff;
      --radius:14px;
      --shadow:0 6px 20px rgba(0,0,0,.08);
      --border:#e7e7ef;
    }
    html, body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin: 0; padding: 0; height: 100%; width: 100%;
      background: var(--bg);
      color: var(--text);
    }
    .container { max-width: 960px; margin: 0 auto; padding: 1rem; }

    header {
      background: var(--yellow);
      padding: 1rem;
      margin-bottom: 1.25rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      text-align: center;
    }
    header img { max-width: 80px; display:block; margin: 0 auto; }
    .day-heading { font-size: 1.8rem; font-weight: 800; margin: .5rem 0; }

    /* Sections */
    .section-label { text-align:center; font-size:1.25rem; font-weight:800; color:var(--brand-green); margin:1.5rem 0 1rem; }
    .journal-grid { display:flex; flex-wrap:wrap; gap:1rem; }
    section { flex:1 1 320px; background:var(--card); padding:1rem; border-radius:var(--radius); box-shadow:var(--shadow); border:1px solid var(--border); }

    section h2 { margin:0 0 .75rem; font-size:1.1rem; font-weight:800; color:var(--brand-purple); }
    textarea {
      width:100%; min-height:100px; margin-bottom:1rem;
      padding:12px; font-family:inherit; border-radius:10px; border:1px solid #d9d9e3;
    }

    /* Mood */
    .mood-grid { display:flex; gap:.5rem; flex-wrap:wrap; }
    .mood-chip {
      font-size:1.5rem; padding:.4rem .6rem; border-radius:10px; border:2px solid transparent;
      cursor:pointer; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,.05);
    }
    .mood-chip.active { border-color: var(--brand-purple); background:#f8f6ff; }
    .mood-live { margin-top:.5rem; text-align:center; color:var(--muted); font-weight:600; }

    /* Breathing */
    #breathing .breathing-tile { text-align:center; padding:1rem; border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); }
    #breath-bubble { width:140px; height:140px; margin:0 auto 1rem; border-radius:50%; background:radial-gradient(circle,#8fd7ff,var(--accent)); }
    #breath-text { font-size:1.3rem; font-weight:800; color:var(--accent); margin:.5rem 0; }
    @keyframes breatheIn { 0%{transform:scale(1);} 100%{transform:scale(1.5);} }
    @keyframes breatheOut { 0%{transform:scale(1.5);} 100%{transform:scale(1);} }
    .inhale { animation:breatheIn 4s ease-in-out forwards; }
    .exhale { animation:breatheOut 4s ease-in-out forwards; }

    /* Tasks */
    #task-card { margin-top:1rem; background:var(--card); padding:1rem; border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); }
    #task-list { display:flex; flex-direction:column; gap:.75rem; }
    .task-item { display:flex; align-items:center; padding:.6rem .8rem; border:1px solid var(--border); border-radius:10px; background:var(--card); box-shadow:0 3px 8px rgba(0,0,0,.05); }
    .task-item input { margin-right:.75rem; width:18px; height:18px; accent-color:var(--brand-green); }
    .task-item label { flex:1; font-weight:600; }

    /* Buttons */
    .btn {
      -webkit-appearance:none; appearance:none; border:0;
      background: var(--brand-purple); color:#fff;
      padding:.7rem 1.25rem; border-radius:14px; font-weight:700;
      cursor:pointer; transition: all .2s ease;
      display:inline-flex; align-items:center; justify-content:center;
      box-shadow:0 8px 16px rgba(132,94,194,.25);
    }
    .btn:hover { filter:brightness(1.05); }
    .btn:active { transform:scale(.97); }
    .btn-secondary { background:var(--accent); }
    .btn-ghost { background:#fff; color:var(--brand-purple); border:1px solid #d9d9e3; }
    .btn-block { width:100%; }

    footer { margin:2rem 0 1rem; padding:1rem; text-align:center; font-style:italic; background:var(--card); border-radius:var(--radius); border:1px solid var(--border); }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="apple-touch-icon.png" alt="App Logo">
      <h1 id="page-title" class="day-heading"></h1>
      <div id="weather"></div>
      <div id="affirmation-box"></div>
    </header>

    <h2 class="section-label">üßò Mindfulness Zone</h2>
    <div class="journal-grid">
      <section id="journals">
        <h2>Journals</h2>
        <textarea id="dream-journal" placeholder="What did you dream about?"></textarea>
        <textarea id="daily-journal" placeholder="Stream your thoughts‚Ä¶"></textarea>
        <button id="save-journal-btn" class="btn btn-primary btn-block">Save Journals</button>
      </section>
      <section id="gratitude">
        <h2>Gratitude & Mood</h2>
        <textarea id="gratitudeEntry" placeholder="What are you grateful for today?"></textarea>
        <h3>Your Mood</h3>
        <div class="mood-grid">
          <button class="mood-chip" data-label="Sad">üòî</button>
          <button class="mood-chip" data-label="Frustrated">üò§</button>
          <button class="mood-chip" data-label="Neutral">üòê</button>
          <button class="mood-chip" data-label="Okay">üôÇ</button>
          <button class="mood-chip" data-label="Happy">üòÄ</button>
          <button class="mood-chip" data-label="Peaceful">üòå</button>
        </div>
        <div class="mood-live"><span id="mood-label">‚Äî How do you feel?</span></div>
      </section>
    </div>

    <h2 class="section-label">ü´Å Breathing Exercise</h2>
    <div class="breathing-tile">
      <div id="breath-bubble"></div>
      <p id="breath-text">Paused</p>
      <button id="breath-toggle-btn" class="btn btn-primary">Start Breath</button>
    </div>

    <h2 class="section-label">üå± Today's Tasks</h2>
    <div id="task-card">
      <div id="task-list"></div>
      <div class="task-input-group">
        <input type="text" id="new-task" placeholder="Add new task">
        <button class="btn btn-primary" onclick="addTask()">Add Task</button>
        <button class="btn btn-ghost" onclick="resetTasks()">Reset All Tasks</button>
      </div>
    </div>

    <footer><p id="quote-box">Loading quote...</p></footer>
  </div>

  <script>
    // Mood
    document.querySelectorAll(".mood-chip").forEach(btn=>{
      btn.addEventListener("click",()=>{
        document.querySelectorAll(".mood-chip").forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        document.getElementById("mood-label").textContent = btn.textContent+" "+btn.dataset.label;
      });
    });

    // Breathing
    (()=>{
      const bubble=document.getElementById("breath-bubble");
      const text=document.getElementById("breath-text");
      const btn=document.getElementById("breath-toggle-btn");
      let cycle, step=0;
      const phases=[
        {label:"Inhale for 4",cls:"inhale",time:4000},
        {label:"Hold for 4",cls:"",time:4000},
        {label:"Exhale for 4",cls:"exhale",time:4000},
        {label:"Hold for 4",cls:"",time:4000}
      ];
      btn.addEventListener("click",()=>{
        if(cycle){ clearInterval(cycle); cycle=null; bubble.className=""; text.textContent="Paused"; btn.textContent="Start Breath"; return;}
        btn.textContent="Stop Breath";
        step=0;
        function run(){
          bubble.className=phases[step].cls;
          text.textContent=phases[step].label;
          setTimeout(()=>{step=(step+1)%phases.length; run();},phases[step].time);
        }
        run();
      });
    })();
  </script>

  <script type="module" src="main.js"></script>
</body>
</html>